
Процедура ВерхняяКоманднаяПанельСкопироватьКонвертацию(Кнопка)
	
	Если ЭлементыФормы.Список.ТекущиеДанные = Неопределено Тогда
		Возврат;
	КонецЕсли;
	
	ТекущаяКонвертация = ЭлементыФормы.Список.ТекущиеДанные.Ссылка;
	Если НЕ ЗначениеЗаполнено(ТекущаяКонвертация) Тогда
		Возврат;
	КонецЕсли;
	
	// зададим вопрос перед копрированием
	ОтветПользователя = Вопрос("Выполнить копирование правил обмена данными?", РежимДиалогаВопрос.ДаНет, ,КодВозвратаДиалога.Да);
	
	Если ОтветПользователя <> КодВозвратаДиалога.Да Тогда
		Возврат;
	КонецЕсли;
	
	СкопироватьСПодчиненными(ТекущаяКонвертация, ТекущаяКонвертация.Родитель);
	
КонецПроцедуры

Процедура ВерхняяКоманднаяПанельПоказатьПравила(Кнопка)
	
	Если ЭлементыФормы.Список.ТекущиеДанные = Неопределено
		ИЛИ ЭлементыФормы.Список.ТекущиеДанные.ЭтоГруппа Тогда
		Возврат;
	КонецЕсли;
	
	ФормаПравилОбмена = ПолучитьОбщуюФорму("ПравилаОбмена", , ЭлементыФормы.Список.ТекущиеДанные.Ссылка);
	ФормаПравилОбмена.Конвертация = ЭлементыФормы.Список.ТекущиеДанные.Ссылка;
	ФормаПравилОбмена.Открыть();
	
КонецПроцедуры


